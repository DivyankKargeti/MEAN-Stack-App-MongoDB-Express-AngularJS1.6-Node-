<div class="container">
  <h3>Add Students Data</h3>
  <form name="addStudentsForm" novalidate>
    <div class="form-row">
      <div class="col-md-6 mt-3">
        <input 
        type="number" 
        class="form-control" 
        placeholder="rollNo" 
        name="rollNo"
        min="0"
        ng-model="vm.newStudent.rollNo" 
        ng-required="true"
        >
        <div ng-show="addStudentsForm.rollNo.$touched && addStudentsForm.rollNo.$invalid">
        <small style="color: red; display: block; text-align: center">Enter a valid rollno</small>
        </div>
      </div>
      <div class="col-md-6 mt-3">
        <input 
        type="text" 
        class="form-control" 
        placeholder="name"
        name="name"
        ng-maxlength="60"
        ng-pattern="/^[a-zA-Z. ]*[a-zA-Z]{3,40}$/" 
        ng-model="vm.newStudent.name" 
        ng-required="true"
        >
        <div ng-show="addStudentsForm.name.$touched && addStudentsForm.name.$invalid">
          <small style="color: red; display: block; text-align: center">Enter a valid name</small>
        </div>
      </div>
      <div class="col-md-6 mt-3">
        <input 
        type="text" 
        class="form-control" 
        placeholder="branch"
        name="branch" 
        ng-maxlength="10"
        ng-pattern="/^[a-zA-Z. ]*[a-zA-Z]{2,10}$/"
        ng-model="vm.newStudent.branch" 
        ng-required="true"
        >
        <div ng-show="addStudentsForm.branch.$touched && addStudentsForm.branch.$invalid">
          <small style="color: red; display: block; text-align: center">Enter a valid branch name</small>
        </div>
      </div>
      <div class="col-md-6 mt-3 mb-3">
        <input 
        type="text" 
        class="form-control" 
        placeholder="email" 
        name="email"
        ng-pattern="/^[A-Za-z_]{3,}@[A-Za-z]{3,}[.]{1}[A-Za-z.]{2,6}$/" 
        ng-model="vm.newStudent.email" 
        ng-required="true"
        >
        <div ng-show="addStudentsForm.email.$touched && addStudentsForm.email.$invalid">
          <small style="color: red; display: block; text-align: center">Enter a valid email</small>
        </div>
      </div>
      <div class="col">
        <input 
        type="number" 
        class="form-control" 
        placeholder="maths" 
        name="maths"
        min="0"
        max="100"
        ng-model="vm.newStudent.maths"
        ng-required="true"
        >
        <div ng-show="addStudentsForm.maths.$touched && addStudentsForm.maths.$invalid">
          <small style="color: red; display: block; text-align: center">Enter valid Marks</small>
        </div>
      </div>
      <div class="col">
        <input 
        type="number" 
        class="form-control" 
        placeholder="english" 
        name="english"
        min="0"
        max="100"
        ng-model="vm.newStudent.english" 
        ng-required="true"
        >
        <div ng-show="addStudentsForm.english.$touched && addStudentsForm.english.$invalid">
          <small style="color: red; display: block; text-align: center">Enter valid Marks</small>
        </div>
      </div>
      <div class="col">
        <input 
        type="number" 
        class="form-control" 
        placeholder="science" 
        name="science"
        min="0"
        max="100"
        ng-model="vm.newStudent.science" 
        ng-required="true"
        >
        <div ng-show="addStudentsForm.science.$touched && addStudentsForm.science.$invalid">
          <small style="color: red; display: block; text-align: center">Enter valid Marks</small>
        </div>
      </div>
    </div><br/>
    <button type="submit" class="btn btn-primary btn-lg btn-block" ng-hide="vm.upd" ng-click="vm.addStudent()" ng-disabled="addStudentsForm.$invalid">Add Student</button>
    <button type="submit" class="btn btn-primary btn-lg btn-block" ng-show="vm.upd" ng-click="vm.updateStudent(vm.newStudent._id)" ng-disabled="addStudentsForm.$invalid">Update Student</button>
  
  </form>
</div>
<!--  -->

<div class="album py-5 bg-dark">
    <div class="container">

      <div class="row">
        <div class="col-md-4" ng-repeat="student in vm.students">
          <div class="card mb-4 shadow-sm">
            <div class="card-body">
              <p class="card-text">
                <strong>rollNo: </strong>{{ student.rollNo }} <br/>
                <strong>Name: </strong>{{ student.name | nameCapital }} <br/>
                <strong>Branch: </strong>{{ student.branch }} <br/>
                <strong>email: </strong>{{ student.email }} <br/>
                <strong>Marks: </strong>
                    <li>{{ student.subjectMarks[0].subject + ' : ' + student.subjectMarks[0].marks }}<br/></li>
                    <li>{{ student.subjectMarks[1].subject + ' : ' + student.subjectMarks[1].marks }}<br/></li>
                    <li>{{ student.subjectMarks[2].subject + ' : ' + student.subjectMarks[2].marks }}<br/></li>
              </p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <button type="button" class="btn btn-sm btn-success" ng-click="vm.editStudent(student._id)">Edit</button>
                  <button type="button" class="btn btn-sm btn-danger" ng-click="vm.removeStudent(student._id)">Delete</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </div>